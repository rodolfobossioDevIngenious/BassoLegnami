import{c as n}from"./p-a3b5bd35.js";function t(t,n){if(null==n){const n=new Set(t.connections.map((t=>t.targetId)));return t.activities.filter((t=>!n.has(t.activityId)))}{const e=new Set(t.connections.filter((t=>t.sourceId===n)).map((t=>t.targetId)));return t.activities.filter((t=>e.has(t.activityId)))}}function e(t,n){return t.connections.filter((t=>t.targetId===n))}function r(t,n){return t.connections.filter((t=>t.sourceId===n))}function c(t,n){const s=[...e(t,n),...r(t,n)];return Object.assign(Object.assign({},t),{activities:t.activities.filter((t=>t.activityId!=n)),connections:t.connections.filter((t=>s.indexOf(t)<0))})}function o(t,n,e){return Object.assign(Object.assign({},t),{connections:t.connections.filter((t=>!(t.sourceId===n&&t.outcome===e)))})}function s(t,n){return t.activities.find((t=>t.activityId===n))}function u(t,n){return Object.assign(Object.assign({},t),{connections:[...t.connections,n]})}function i(t,n,e,s){!function(t,n,e,s){let i=t.find((t=>t.name==n));if(s||(s="Literal"),i)i.expressions[s]=e,i.syntax=s;else{const r={};r[s]=e,i={name:n,expressions:r,syntax:s},t.push(i)}}(t.properties,n,e,s)}function a(t,n,e,s){let i=t.properties.find((t=>t.name==n));if(!i){const r={};let o=s?s():void 0;o||(o="Literal"),r[o]=e?e():void 0,i={name:n,expressions:r,syntax:null},t.properties.push(i)}return i}function f(t){if(!t)return null;try{return JSON.parse(t)}catch(t){console.warn(`Error parsing JSON: ${t}`)}}function l(t){if(!t)return{};const n={},e=("?"===t[0]?t.substr(1):t).split("&");for(let t=0;t<e.length;t++){const s=e[t].split("=");n[decodeURIComponent(s[0])]=decodeURIComponent(s[1]||"")}return n}function m(t){return n.map(t||{},((t,n)=>`${n}=${t}`)).join("&")}function d(t){switch(t){case"Json":return"json";case"JavaScript":return"javascript";case"Liquid":return"liquid";case"SQL":return"sql";default:return"plaintext"}}function p(t){const n=document.createElement("template");return t=t.trim(),n.innerHTML=t,n.content.firstElementChild}function j(t){const n=p("<textarea/>");return n.textContent=t,n.innerHTML}function b(t){return t?t.asHours()>1?`${t.asHours().toFixed(3)} h`:t.asMinutes()>1?`${t.asMinutes().toFixed(3)} m`:t.asSeconds()>1?`${t.asSeconds().toFixed(3)} s`:`${t.asMilliseconds()} ms`:null}function w(t){const n=document.createRange();n.selectNodeContents(t);const e=window.getSelection();e.removeAllRanges(),e.addRange(n)}async function O(t){for(;null===document.querySelector(t);)await new Promise((t=>requestAnimationFrame(t)));return document.querySelector(t)}Array.prototype.distinct=function(){return[...new Set(this)]},Array.prototype.last||(Array.prototype.last=function(){return this[this.length-1]});export{p as a,O as b,l as c,w as d,b as e,e as f,a as g,j as h,r as i,s as j,u as k,t as l,d as m,o as n,f as p,m as q,c as r,i as s};