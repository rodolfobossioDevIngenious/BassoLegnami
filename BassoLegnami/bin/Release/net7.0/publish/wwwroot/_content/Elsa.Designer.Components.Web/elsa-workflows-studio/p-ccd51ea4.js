import{a as t}from"./p-e0c1fede.js";import{H as i}from"./p-f1ec68ec.js";import{c as a}from"./p-a3b5bd35.js";import{e as n}from"./p-93cac3a6.js";import{g as s}from"./p-c74b54ba.js";import{E as e}from"./p-d88cb309.js";let o=null,r=null;const w=async function(a){if(o)return o;const s={baseURL:a};o=t.create(s);const r=new i(o);return await n.emit(e.HttpClientConfigCreated,this,{config:s}),await n.emit(e.HttpClientCreated,this,{service:r,_httpClient:o}),o},c=async function(t){if(r)return r;const e=await w(t);return r={activitiesApi:{list:async()=>(await e.get("v1/activities")).data},workflowDefinitionsApi:{list:async(t,i,n,o)=>{const r={version:s(n)};o&&(r.searchTerm=o),(t||0===t)&&(r.page=t),i&&(r.pageSize=i);const w=a.map(r,((t,a)=>`${a}=${t}`)),c=w.length>0?`?${w.join("&")}`:"";return(await e.get(`v1/workflow-definitions${c}`)).data},getMany:async(t,a)=>{const i=s(a);return(await e.get(`v1/workflow-definitions?ids=${t.join(",")}&version=${i}`)).data.items},getVersionHistory:async t=>(await e.get(`v1/workflow-definitions/${t}/history`)).data.items,getByDefinitionAndVersion:async(t,a)=>{const i=s(a);return(await e.get(`v1/workflow-definitions/${t}/${i}`)).data},save:async t=>(await e.post("v1/workflow-definitions",t)).data,delete:async(t,a)=>{let i=`v1/workflow-definitions/${t}`;a&&(i=`${i}/${s(a)}`),await e.delete(i)},retract:async t=>(await e.post(`v1/workflow-definitions/${t}/retract`)).data,publish:async t=>(await e.post(`v1/workflow-definitions/${t}/publish`)).data,revert:async(t,a)=>(await e.post(`v1/workflow-definitions/${t}/revert/${a}`)).data,export:async(t,a)=>{const i=s(a),n=await e.post(`v1/workflow-definitions/${t}/${i}/export`,null,{responseType:"blob"}),o=n.headers["content-disposition"];return{fileName:o?o.split(";")[1].split("=")[1]:`workflow-definition-${t}.json`,data:n.data}},import:async(t,a)=>{const i=new FormData;return i.append("file",a),(await e.post(`v1/workflow-definitions/${t}/import`,i,{headers:{"Content-Type":"multipart/form-data"}})).data}},workflowTestApi:{execute:async t=>(await e.post("v1/workflow-test/execute",t)).data,restartFromActivity:async t=>{await e.post("v1/workflow-test/restartFromActivity",t)},stop:async t=>{await e.post("v1/workflow-test/stop",t)}},workflowRegistryApi:{list:async(t,i,n,o)=>{const r={version:s(o)};(i||0===i)&&(r.page=i),n&&(r.pageSize=n);const w=a.map(r,((t,a)=>`${a}=${t}`)),c=w.length>0?`?${w.join("&")}`:"";return(await e.get(`v1/workflow-registry/by-provider/${t}${c}`)).data},listAll:async t=>{const i={version:s(t)},n=a.map(i,((t,a)=>`${a}=${t}`)),o=n.length>0?`?${n.join("&")}`:"";return(await e.get(`v1/workflow-registry${o}`)).data},findManyByDefinitionVersionIds:async t=>{if(0==t.length)return[];const a=t.join(",");return(await e.get(`v1/workflow-registry/by-definition-version-ids?ids=${a}`)).data},get:async(t,a)=>{const i=s(a);return(await e.get(`v1/workflow-registry/${t}/${i}`)).data}},workflowInstancesApi:{list:async(t,i,s,n,o,r,w)=>{const c={};s&&(c.workflow=s),w&&(c.correlationId=w),null!=n&&(c.status=n),o&&(c.orderBy=o),r&&(c.searchTerm=r),t&&(c.page=t),i&&(c.pageSize=i);const l=a.map(c,((t,a)=>`${a}=${t}`)),p=l.length>0?`?${l.join("&")}`:"";return(await e.get(`v1/workflow-instances${p}`)).data},get:async t=>(await e.get(`v1/workflow-instances/${t}`)).data,cancel:async t=>{await e.post(`v1/workflow-instances/${t}/cancel`)},delete:async t=>{await e.delete(`v1/workflow-instances/${t}`)},retry:async t=>{await e.post(`v1/workflow-instances/${t}/retry`,{runImmediately:!1})},bulkCancel:async t=>(await e.post("v1/workflow-instances/bulk/cancel",t)).data,bulkDelete:async t=>(await e.delete("v1/workflow-instances/bulk",{data:t})).data,bulkRetry:async t=>(await e.post("v1/workflow-instances/bulk/retry",t)).data},workflowExecutionLogApi:{get:async(t,i,s)=>{const n={};i&&(n.page=i),s&&(n.pageSize=s);const o=a.map(n,((t,a)=>`${a}=${t}`)),r=o.length>0?`?${o.join("&")}`:"";return(await e.get(`v1/workflow-instances/${t}/execution-log${r}`)).data}},scriptingApi:{getJavaScriptTypeDefinitions:async(t,a)=>(await e.post(`v1/scripting/javascript/type-definitions/${t}?t=${(new Date).getTime()}`,a)).data},designerApi:{runtimeSelectItemsApi:{get:async(t,a)=>(await e.post("v1/designer/runtime-select-list",{providerTypeName:t,context:a})).data}},activityStatsApi:{get:async(t,a)=>(await e.get(`v1/workflow-instances/${t}/activity-stats/${a}`)).data},workflowStorageProvidersApi:{list:async()=>(await e.get("v1/workflow-storage-providers")).data},workflowProvidersApi:{list:async()=>(await e.get("v1/workflow-providers")).data},workflowChannelsApi:{list:async()=>(await e.get("v1/workflow-channels")).data},featuresApi:{list:async()=>(await e.get("v1/features")).data.features},versionApi:{get:async()=>(await e.get("v1/version")).data.version},authenticationApi:{getUserDetails:async()=>{const t=await e.get("v1/elsaAuthentication/userinfo");return"text/html; charset=utf-8"!==t.headers["content-type"]&&t.data.isAuthenticated?t.data:null},getAuthenticationConfguration:async()=>(await e.get("v1/ElsaAuthentication/options")).data}},r};export{c as a,w as c};