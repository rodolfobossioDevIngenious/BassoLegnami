/*! For license information please see p-82b4957e.js.LICENSE.txt */
import{m as t}from"./p-0e6c4f1e.js";import"./p-ee0b9025.js";import"./p-93cac3a6.js";import"./p-c74b54ba.js";import"./p-d88cb309.js";import"./p-f1ec68ec.js";import"./p-a3b5bd35.js";import"./p-80de33dc.js";import"./p-971980b1.js";import"./p-82db2ff5.js";import"./p-949334ec.js";import"./p-aae56f4d.js";import"./p-e77aabd2.js";import"./p-a47b4ab7.js";import"./p-6137089a.js";import"./p-8ddc23be.js";import"./p-34c33cf9.js";import"./p-79414d9f.js";import"./p-821a7518.js";import"./p-83f217d4.js";import"./p-ccd51ea4.js";import"./p-e0c1fede.js";import"./p-f931e145.js";import"./p-fd4270fe.js";import"./p-37df3757.js";var r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,e=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,o={};((t,o,a,s)=>{if(o&&"object"==typeof o||"function"==typeof o)for(let a of e(o))i.call(t,a)||"default"===a||r(t,a,{get:()=>o[a],enumerable:!(s=n(o,a))||s.enumerable})})(o,t);var s,u,c,a,f,h,d,v,l,g,m,p,b,w,k,j,x,S,I,y,T,E,O,C,_,D,R,N,L,W,A,z,M,P,q,F,U,H,V,$,B,G,J,K,Q,X,Y,Z,tt,rt=class{_defaults;_idleCheckInterval;_lastUsedTime;_configChangeListener;_worker;_client;constructor(t){this._defaults=t,this._worker=null,this._client=null,this._idleCheckInterval=window.setInterval((()=>this._checkIfIdle()),3e4),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange((()=>this._stopWorker()))}_stopWorker(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null}dispose(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()}_checkIfIdle(){this._worker&&Date.now()-this._lastUsedTime>12e4&&this._stopWorker()}_getClient(){return this._lastUsedTime=Date.now(),this._client||(this._worker=o.editor.createWebWorker({moduleId:"vs/language/json/jsonWorker",label:this._defaults.languageId,createData:{languageSettings:this._defaults.diagnosticsOptions,languageId:this._defaults.languageId,enableSchemaRequest:this._defaults.diagnosticsOptions.enableSchemaRequest}}),this._client=this._worker.getProxy()),this._client}getLanguageServiceWorker(...t){let e;return this._getClient().then((t=>{e=t})).then((()=>{if(this._worker)return this._worker.withSyncedResources(t)})).then((()=>e))}};(u=s||(s={})).MIN_VALUE=-2147483648,u.MAX_VALUE=2147483647,(a=c||(c={})).MIN_VALUE=0,a.MAX_VALUE=2147483647,(h=f||(f={})).create=function(t,e){return t===Number.MAX_VALUE&&(t=c.MAX_VALUE),e===Number.MAX_VALUE&&(e=c.MAX_VALUE),{line:t,character:e}},h.is=function(t){var e=t;return rr.objectLiteral(e)&&rr.uinteger(e.line)&&rr.uinteger(e.character)},(v=d||(d={})).create=function(t,e,r,n){if(rr.uinteger(t)&&rr.uinteger(e)&&rr.uinteger(r)&&rr.uinteger(n))return{start:f.create(t,e),end:f.create(r,n)};if(f.is(t)&&f.is(e))return{start:t,end:e};throw new Error("Range#create called with invalid arguments["+t+", "+e+", "+r+", "+n+"]")},v.is=function(t){var e=t;return rr.objectLiteral(e)&&f.is(e.start)&&f.is(e.end)},(g=l||(l={})).create=function(t,e){return{uri:t,range:e}},g.is=function(t){var e=t;return rr.defined(e)&&d.is(e.range)&&(rr.string(e.uri)||rr.undefined(e.uri))},(p=m||(m={})).create=function(t,e,r,n){return{targetUri:t,targetRange:e,targetSelectionRange:r,originSelectionRange:n}},p.is=function(t){var e=t;return rr.defined(e)&&d.is(e.targetRange)&&rr.string(e.targetUri)&&(d.is(e.targetSelectionRange)||rr.undefined(e.targetSelectionRange))&&(d.is(e.originSelectionRange)||rr.undefined(e.originSelectionRange))},(w=b||(b={})).create=function(t,e,r,n){return{red:t,green:e,blue:r,alpha:n}},w.is=function(t){var e=t;return rr.numberRange(e.red,0,1)&&rr.numberRange(e.green,0,1)&&rr.numberRange(e.blue,0,1)&&rr.numberRange(e.alpha,0,1)},(j=k||(k={})).create=function(t,e){return{range:t,color:e}},j.is=function(t){var e=t;return d.is(e.range)&&b.is(e.color)},(S=x||(x={})).create=function(t,e,r){return{label:t,textEdit:e,additionalTextEdits:r}},S.is=function(t){var e=t;return rr.string(e.label)&&(rr.undefined(e.textEdit)||P.is(e))&&(rr.undefined(e.additionalTextEdits)||rr.typedArray(e.additionalTextEdits,P.is))},(y=I||(I={})).Comment="comment",y.Imports="imports",y.Region="region",(E=T||(T={})).create=function(t,e,r,n,i){var o={startLine:t,endLine:e};return rr.defined(r)&&(o.startCharacter=r),rr.defined(n)&&(o.endCharacter=n),rr.defined(i)&&(o.kind=i),o},E.is=function(t){var e=t;return rr.uinteger(e.startLine)&&rr.uinteger(e.startLine)&&(rr.undefined(e.startCharacter)||rr.uinteger(e.startCharacter))&&(rr.undefined(e.endCharacter)||rr.uinteger(e.endCharacter))&&(rr.undefined(e.kind)||rr.string(e.kind))},(C=O||(O={})).create=function(t,e){return{location:t,message:e}},C.is=function(t){var e=t;return rr.defined(e)&&l.is(e.location)&&rr.string(e.message)},(D=_||(_={})).Error=1,D.Warning=2,D.Information=3,D.Hint=4,(N=R||(R={})).Unnecessary=1,N.Deprecated=2,(L||(L={})).is=function(t){return null!=t&&rr.string(t.href)},(A=W||(W={})).create=function(t,e,r,n,i,o){var a={range:t,message:e};return rr.defined(r)&&(a.severity=r),rr.defined(n)&&(a.code=n),rr.defined(i)&&(a.source=i),rr.defined(o)&&(a.relatedInformation=o),a},A.is=function(t){var e,r=t;return rr.defined(r)&&d.is(r.range)&&rr.string(r.message)&&(rr.number(r.severity)||rr.undefined(r.severity))&&(rr.integer(r.code)||rr.string(r.code)||rr.undefined(r.code))&&(rr.undefined(r.codeDescription)||rr.string(null===(e=r.codeDescription)||void 0===e?void 0:e.href))&&(rr.string(r.source)||rr.undefined(r.source))&&(rr.undefined(r.relatedInformation)||rr.typedArray(r.relatedInformation,O.is))},(M=z||(z={})).create=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={title:t,command:e};return rr.defined(r)&&r.length>0&&(i.arguments=r),i},M.is=function(t){var e=t;return rr.defined(e)&&rr.string(e.title)&&rr.string(e.command)},(q=P||(P={})).replace=function(t,e){return{range:t,newText:e}},q.insert=function(t,e){return{range:{start:t,end:t},newText:e}},q.del=function(t){return{range:t,newText:""}},q.is=function(t){var e=t;return rr.objectLiteral(e)&&rr.string(e.newText)&&d.is(e.range)},(U=F||(F={})).create=function(t,e,r){var n={label:t};return void 0!==e&&(n.needsConfirmation=e),void 0!==r&&(n.description=r),n},U.is=function(t){var e=t;return void 0!==e&&rr.objectLiteral(e)&&rr.string(e.label)&&(rr.boolean(e.needsConfirmation)||void 0===e.needsConfirmation)&&(rr.string(e.description)||void 0===e.description)},(H||(H={})).is=function(t){return"string"==typeof t},($=V||(V={})).replace=function(t,e,r){return{range:t,newText:e,annotationId:r}},$.insert=function(t,e,r){return{range:{start:t,end:t},newText:e,annotationId:r}},$.del=function(t,e){return{range:t,newText:"",annotationId:e}},$.is=function(t){var e=t;return P.is(e)&&(F.is(e.annotationId)||H.is(e.annotationId))},(G=B||(B={})).create=function(t,e){return{textDocument:t,edits:e}},G.is=function(t){var e=t;return rr.defined(e)&&st.is(e.textDocument)&&Array.isArray(e.edits)},(K=J||(J={})).create=function(t,e,r){var n={kind:"create",uri:t};return void 0===e||void 0===e.overwrite&&void 0===e.ignoreIfExists||(n.options=e),void 0!==r&&(n.annotationId=r),n},K.is=function(t){var e=t;return e&&"create"===e.kind&&rr.string(e.uri)&&(void 0===e.options||(void 0===e.options.overwrite||rr.boolean(e.options.overwrite))&&(void 0===e.options.ignoreIfExists||rr.boolean(e.options.ignoreIfExists)))&&(void 0===e.annotationId||H.is(e.annotationId))},(X=Q||(Q={})).create=function(t,e,r,n){var i={kind:"rename",oldUri:t,newUri:e};return void 0===r||void 0===r.overwrite&&void 0===r.ignoreIfExists||(i.options=r),void 0!==n&&(i.annotationId=n),i},X.is=function(t){var e=t;return e&&"rename"===e.kind&&rr.string(e.oldUri)&&rr.string(e.newUri)&&(void 0===e.options||(void 0===e.options.overwrite||rr.boolean(e.options.overwrite))&&(void 0===e.options.ignoreIfExists||rr.boolean(e.options.ignoreIfExists)))&&(void 0===e.annotationId||H.is(e.annotationId))},(Z=Y||(Y={})).create=function(t,e,r){var n={kind:"delete",uri:t};return void 0===e||void 0===e.recursive&&void 0===e.ignoreIfNotExists||(n.options=e),void 0!==r&&(n.annotationId=r),n},Z.is=function(t){var e=t;return e&&"delete"===e.kind&&rr.string(e.uri)&&(void 0===e.options||(void 0===e.options.recursive||rr.boolean(e.options.recursive))&&(void 0===e.options.ignoreIfNotExists||rr.boolean(e.options.ignoreIfNotExists)))&&(void 0===e.annotationId||H.is(e.annotationId))},(tt||(tt={})).is=function(t){return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(t){return rr.string(t.kind)?J.is(t)||Q.is(t)||Y.is(t):B.is(t)})))};var nt,et,it,ot,st,ut,ct,at,ft,ht,dt,vt,lt,gt,mt,pt,bt,wt,kt,jt,xt,St,It,yt,Tt,Et,Ot,Ct,_t,Dt,Rt,Nt,Lt,Wt,At,zt,Mt,Pt,qt,Ft,Ut,Ht,Vt,$t,Bt,Gt,Jt,Kt,Qt,Xt,Yt,Zt=function(){function t(t,e){this.edits=t,this.changeAnnotations=e}return t.prototype.insert=function(t,e,r){var n,i;if(void 0===r?n=P.insert(t,e):H.is(r)?(i=r,n=V.insert(t,e,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=V.insert(t,e,i)),this.edits.push(n),void 0!==i)return i},t.prototype.replace=function(t,e,r){var n,i;if(void 0===r?n=P.replace(t,e):H.is(r)?(i=r,n=V.replace(t,e,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=V.replace(t,e,i)),this.edits.push(n),void 0!==i)return i},t.prototype.delete=function(t,e){var r,n;if(void 0===e?r=P.del(t):H.is(e)?(n=e,r=V.del(t,e)):(this.assertChangeAnnotations(this.changeAnnotations),n=this.changeAnnotations.manage(e),r=V.del(t,n)),this.edits.push(r),void 0!==n)return n},t.prototype.add=function(t){this.edits.push(t)},t.prototype.all=function(){return this.edits},t.prototype.clear=function(){this.edits.splice(0,this.edits.length)},t.prototype.assertChangeAnnotations=function(t){if(void 0===t)throw new Error("Text edit change is not configured to manage change annotations.")},t}(),tr=function(){function t(t){this._annotations=void 0===t?Object.create(null):t,this._counter=0,this._size=0}return t.prototype.all=function(){return this._annotations},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),t.prototype.manage=function(t,e){var r;if(H.is(t)?r=t:(r=this.nextId(),e=t),void 0!==this._annotations[r])throw new Error("Id "+r+" is already in use.");if(void 0===e)throw new Error("No annotation provided for id "+r);return this._annotations[r]=e,this._size++,r},t.prototype.nextId=function(){return this._counter++,this._counter.toString()},t}();!function(){function t(t){var e=this;this._textEditChanges=Object.create(null),void 0!==t?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new tr(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach((function(t){if(B.is(t)){var r=new Zt(t.edits,e._changeAnnotations);e._textEditChanges[t.textDocument.uri]=r}}))):t.changes&&Object.keys(t.changes).forEach((function(r){var n=new Zt(t.changes[r]);e._textEditChanges[r]=n}))):this._workspaceEdit={}}Object.defineProperty(t.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(this._workspaceEdit.changeAnnotations=0===this._changeAnnotations.size?void 0:this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),t.prototype.getTextEditChange=function(t){if(st.is(t)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var e={uri:t.uri,version:t.version};return(r=this._textEditChanges[e.uri])||(this._workspaceEdit.documentChanges.push({textDocument:e,edits:n=[]}),r=new Zt(n,this._changeAnnotations),this._textEditChanges[e.uri]=r),r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r,n;return(r=this._textEditChanges[t])||(this._workspaceEdit.changes[t]=n=[],r=new Zt(n),this._textEditChanges[t]=r),r},t.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new tr,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},t.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},t.prototype.createFile=function(t,e,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var n,i,o;if(F.is(e)||H.is(e)?n=e:r=e,void 0===n?i=J.create(t,r):(o=H.is(n)?n:this._changeAnnotations.manage(n),i=J.create(t,r,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o},t.prototype.renameFile=function(t,e,r,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var i,o,a;if(F.is(r)||H.is(r)?i=r:n=r,void 0===i?o=Q.create(t,e,n):(a=H.is(i)?i:this._changeAnnotations.manage(i),o=Q.create(t,e,n,a)),this._workspaceEdit.documentChanges.push(o),void 0!==a)return a},t.prototype.deleteFile=function(t,e,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var n,i,o;if(F.is(e)||H.is(e)?n=e:r=e,void 0===n?i=Y.create(t,r):(o=H.is(n)?n:this._changeAnnotations.manage(n),i=Y.create(t,r,o)),this._workspaceEdit.documentChanges.push(i),void 0!==o)return o}}(),(et=nt||(nt={})).create=function(t){return{uri:t}},et.is=function(t){var e=t;return rr.defined(e)&&rr.string(e.uri)},(ot=it||(it={})).create=function(t,e){return{uri:t,version:e}},ot.is=function(t){var e=t;return rr.defined(e)&&rr.string(e.uri)&&rr.integer(e.version)},(ut=st||(st={})).create=function(t,e){return{uri:t,version:e}},ut.is=function(t){var e=t;return rr.defined(e)&&rr.string(e.uri)&&(null===e.version||rr.integer(e.version))},(at=ct||(ct={})).create=function(t,e,r,n){return{uri:t,languageId:e,version:r,text:n}},at.is=function(t){var e=t;return rr.defined(e)&&rr.string(e.uri)&&rr.string(e.languageId)&&rr.integer(e.version)&&rr.string(e.text)},(ht=ft||(ft={})).PlainText="plaintext",ht.Markdown="markdown",function(t){t.is=function(e){return e===t.PlainText||e===t.Markdown}}(ft||(ft={})),(dt||(dt={})).is=function(t){var e=t;return rr.objectLiteral(t)&&ft.is(e.kind)&&rr.string(e.value)},(lt=vt||(vt={})).Text=1,lt.Method=2,lt.Function=3,lt.Constructor=4,lt.Field=5,lt.Variable=6,lt.Class=7,lt.Interface=8,lt.Module=9,lt.Property=10,lt.Unit=11,lt.Value=12,lt.Enum=13,lt.Keyword=14,lt.Snippet=15,lt.Color=16,lt.File=17,lt.Reference=18,lt.Folder=19,lt.EnumMember=20,lt.Constant=21,lt.Struct=22,lt.Event=23,lt.Operator=24,lt.TypeParameter=25,(mt=gt||(gt={})).PlainText=1,mt.Snippet=2,(pt||(pt={})).Deprecated=1,(wt=bt||(bt={})).create=function(t,e,r){return{newText:t,insert:e,replace:r}},wt.is=function(t){var e=t;return e&&rr.string(e.newText)&&d.is(e.insert)&&d.is(e.replace)},(jt=kt||(kt={})).asIs=1,jt.adjustIndentation=2,(xt||(xt={})).create=function(t){return{label:t}},(St||(St={})).create=function(t,e){return{items:t||[],isIncomplete:!!e}},(yt=It||(It={})).fromPlainText=function(t){return t.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},yt.is=function(t){var e=t;return rr.string(e)||rr.objectLiteral(e)&&rr.string(e.language)&&rr.string(e.value)},(Tt||(Tt={})).is=function(t){var e=t;return!!e&&rr.objectLiteral(e)&&(dt.is(e.contents)||It.is(e.contents)||rr.typedArray(e.contents,It.is))&&(void 0===t.range||d.is(t.range))},(Et||(Et={})).create=function(t,e){return e?{label:t,documentation:e}:{label:t}},(Ot||(Ot={})).create=function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var i={label:t};return rr.defined(e)&&(i.documentation=e),i.parameters=rr.defined(r)?r:[],i},(_t=Ct||(Ct={})).Text=1,_t.Read=2,_t.Write=3,(Dt||(Dt={})).create=function(t,e){var r={range:t};return rr.number(e)&&(r.kind=e),r},(Nt=Rt||(Rt={})).File=1,Nt.Module=2,Nt.Namespace=3,Nt.Package=4,Nt.Class=5,Nt.Method=6,Nt.Property=7,Nt.Field=8,Nt.Constructor=9,Nt.Enum=10,Nt.Interface=11,Nt.Function=12,Nt.Variable=13,Nt.Constant=14,Nt.String=15,Nt.Number=16,Nt.Boolean=17,Nt.Array=18,Nt.Object=19,Nt.Key=20,Nt.Null=21,Nt.EnumMember=22,Nt.Struct=23,Nt.Event=24,Nt.Operator=25,Nt.TypeParameter=26,(Lt||(Lt={})).Deprecated=1,(Wt||(Wt={})).create=function(t,e,r,n,i){var o={name:t,kind:e,location:{uri:n,range:r}};return i&&(o.containerName=i),o},(zt=At||(At={})).create=function(t,e,r,n,i,o){var a={name:t,detail:e,kind:r,range:n,selectionRange:i};return void 0!==o&&(a.children=o),a},zt.is=function(t){var e=t;return e&&rr.string(e.name)&&rr.number(e.kind)&&d.is(e.range)&&d.is(e.selectionRange)&&(void 0===e.detail||rr.string(e.detail))&&(void 0===e.deprecated||rr.boolean(e.deprecated))&&(void 0===e.children||Array.isArray(e.children))&&(void 0===e.tags||Array.isArray(e.tags))},(Pt=Mt||(Mt={})).Empty="",Pt.QuickFix="quickfix",Pt.Refactor="refactor",Pt.RefactorExtract="refactor.extract",Pt.RefactorInline="refactor.inline",Pt.RefactorRewrite="refactor.rewrite",Pt.Source="source",Pt.SourceOrganizeImports="source.organizeImports",Pt.SourceFixAll="source.fixAll",(Ft=qt||(qt={})).create=function(t,e){var r={diagnostics:t};return null!=e&&(r.only=e),r},Ft.is=function(t){var e=t;return rr.defined(e)&&rr.typedArray(e.diagnostics,W.is)&&(void 0===e.only||rr.typedArray(e.only,rr.string))},(Ht=Ut||(Ut={})).create=function(t,e,r){var n={title:t},i=!0;return"string"==typeof e?(i=!1,n.kind=e):z.is(e)?n.command=e:n.edit=e,i&&void 0!==r&&(n.kind=r),n},Ht.is=function(t){var e=t;return e&&rr.string(e.title)&&(void 0===e.diagnostics||rr.typedArray(e.diagnostics,W.is))&&(void 0===e.kind||rr.string(e.kind))&&(void 0!==e.edit||void 0!==e.command)&&(void 0===e.command||z.is(e.command))&&(void 0===e.isPreferred||rr.boolean(e.isPreferred))&&(void 0===e.edit||tt.is(e.edit))},($t=Vt||(Vt={})).create=function(t,e){var r={range:t};return rr.defined(e)&&(r.data=e),r},$t.is=function(t){var e=t;return rr.defined(e)&&d.is(e.range)&&(rr.undefined(e.command)||z.is(e.command))},(Gt=Bt||(Bt={})).create=function(t,e){return{tabSize:t,insertSpaces:e}},Gt.is=function(t){var e=t;return rr.defined(e)&&rr.uinteger(e.tabSize)&&rr.boolean(e.insertSpaces)},(Kt=Jt||(Jt={})).create=function(t,e,r){return{range:t,target:e,data:r}},Kt.is=function(t){var e=t;return rr.defined(e)&&d.is(e.range)&&(rr.undefined(e.target)||rr.string(e.target))},(Xt=Qt||(Qt={})).create=function(t,e){return{range:t,parent:e}},Xt.is=function(t){var e=t;return void 0!==e&&d.is(e.range)&&(void 0===e.parent||Xt.is(e.parent))},function(t){function e(t,r){if(t.length<=1)return t;var n=t.length/2|0,i=t.slice(0,n),o=t.slice(n);e(i,r),e(o,r);for(var a=0,s=0,c=0;a<i.length&&s<o.length;){var u=r(i[a],o[s]);t[c++]=u<=0?i[a++]:o[s++]}for(;a<i.length;)t[c++]=i[a++];for(;s<o.length;)t[c++]=o[s++];return t}t.create=function(t,e,r,n){return new ir(t,e,r,n)},t.is=function(t){var e=t;return!!(rr.defined(e)&&rr.string(e.uri)&&(rr.undefined(e.languageId)||rr.string(e.languageId))&&rr.uinteger(e.lineCount)&&rr.func(e.getText)&&rr.func(e.positionAt)&&rr.func(e.offsetAt))},t.applyEdits=function(t,r){for(var n=t.getText(),i=e(r,(function(t,e){var r=t.range.start.line-e.range.start.line;return 0===r?t.range.start.character-e.range.start.character:r})),o=n.length,a=i.length-1;a>=0;a--){var s=i[a],c=t.offsetAt(s.range.start),u=t.offsetAt(s.range.end);if(!(u<=o))throw new Error("Overlapping edit");n=n.substring(0,c)+s.newText+n.substring(u,n.length),o=c}return n}}(Yt||(Yt={}));var rr,nr,er,ir=function(){function t(t,e,r,n){this._uri=t,this._languageId=e,this._version=r,this._content=n,this._lineOffsets=void 0}return Object.defineProperty(t.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),t.prototype.getText=function(t){if(t){var e=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(e,r)}return this._content},t.prototype.update=function(t,e){this._content=t.text,this._version=e,this._lineOffsets=void 0},t.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var t=[],e=this._content,r=!0,n=0;n<e.length;n++){r&&(t.push(n),r=!1);var i=e.charAt(n);r="\r"===i||"\n"===i,"\r"===i&&n+1<e.length&&"\n"===e.charAt(n+1)&&n++}r&&e.length>0&&t.push(e.length),this._lineOffsets=t}return this._lineOffsets},t.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var e=this.getLineOffsets(),r=0,n=e.length;if(0===n)return f.create(0,t);for(;r<n;){var i=Math.floor((r+n)/2);e[i]>t?n=i:r=i+1}var o=r-1;return f.create(o,t-e[o])},t.prototype.offsetAt=function(t){var e=this.getLineOffsets();if(t.line>=e.length)return this._content.length;if(t.line<0)return 0;var r=e[t.line];return Math.max(Math.min(r+t.character,t.line+1<e.length?e[t.line+1]:this._content.length),r)},Object.defineProperty(t.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),t}();nr=rr||(rr={}),er=Object.prototype.toString,nr.defined=function(t){return void 0!==t},nr.undefined=function(t){return void 0===t},nr.boolean=function(t){return!0===t||!1===t},nr.string=function(t){return"[object String]"===er.call(t)},nr.number=function(t){return"[object Number]"===er.call(t)},nr.numberRange=function(t,e,r){return"[object Number]"===er.call(t)&&e<=t&&t<=r},nr.integer=function(t){return"[object Number]"===er.call(t)&&-2147483648<=t&&t<=2147483647},nr.uinteger=function(t){return"[object Number]"===er.call(t)&&0<=t&&t<=2147483647},nr.func=function(t){return"[object Function]"===er.call(t)},nr.objectLiteral=function(t){return null!==t&&"object"==typeof t},nr.typedArray=function(t,e){return Array.isArray(t)&&t.every(e)};var or=class{constructor(t,e,r){this._languageId=t,this._worker=e;const n=t=>{let e,r=t.getLanguageId();r===this._languageId&&(this._listener[t.uri.toString()]=t.onDidChangeContent((()=>{window.clearTimeout(e),e=window.setTimeout((()=>this._doValidate(t.uri,r)),500)})),this._doValidate(t.uri,r))},i=t=>{o.editor.setModelMarkers(t,this._languageId,[]);let e=t.uri.toString(),r=this._listener[e];r&&(r.dispose(),delete this._listener[e])};this._disposables.push(o.editor.onDidCreateModel(n)),this._disposables.push(o.editor.onWillDisposeModel(i)),this._disposables.push(o.editor.onDidChangeModelLanguage((t=>{i(t.model),n(t.model)}))),this._disposables.push(r((()=>{o.editor.getModels().forEach((t=>{t.getLanguageId()===this._languageId&&(i(t),n(t))}))}))),this._disposables.push({dispose:()=>{o.editor.getModels().forEach(i);for(let t in this._listener)this._listener[t].dispose()}}),o.editor.getModels().forEach(n)}_disposables=[];_listener=Object.create(null);dispose(){this._disposables.forEach((t=>t&&t.dispose())),this._disposables.length=0}_doValidate(t,e){this._worker(t).then((e=>e.doValidation(t.toString()))).then((r=>{const n=r.map((t=>function(t,e){let r="number"==typeof e.code?String(e.code):e.code;return{severity:sr(e.severity),startLineNumber:e.range.start.line+1,startColumn:e.range.start.character+1,endLineNumber:e.range.end.line+1,endColumn:e.range.end.character+1,message:e.message,code:r,source:e.source}}(0,t)));let i=o.editor.getModel(t);i&&i.getLanguageId()===e&&o.editor.setModelMarkers(i,e,n)})).then(void 0,(t=>{console.error(t)}))}};function sr(t){switch(t){case _.Error:return o.MarkerSeverity.Error;case _.Warning:return o.MarkerSeverity.Warning;case _.Information:return o.MarkerSeverity.Info;case _.Hint:return o.MarkerSeverity.Hint;default:return o.MarkerSeverity.Info}}var ur=class{constructor(t,e){this._worker=t,this._triggerCharacters=e}get triggerCharacters(){return this._triggerCharacters}provideCompletionItems(t,e,r,n){const i=t.uri;return this._worker(i).then((t=>t.doComplete(i.toString(),cr(e)))).then((r=>{if(!r)return;const n=t.getWordUntilPosition(e),i=new o.Range(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn),a=r.items.map((t=>{const e={label:t.label,insertText:t.insertText||t.label,sortText:t.sortText,filterText:t.filterText,documentation:t.documentation,detail:t.detail,command:(r=t.command,r&&"editor.action.triggerSuggest"===r.command?{id:r.command,title:r.title,arguments:r.arguments}:void 0),range:i,kind:hr(t.kind)};var r,n;return t.textEdit&&(e.range=void 0!==(n=t.textEdit).insert&&void 0!==n.replace?{insert:fr(t.textEdit.insert),replace:fr(t.textEdit.replace)}:fr(t.textEdit.range),e.insertText=t.textEdit.newText),t.additionalTextEdits&&(e.additionalTextEdits=t.additionalTextEdits.map(dr)),t.insertTextFormat===gt.Snippet&&(e.insertTextRules=o.languages.CompletionItemInsertTextRule.InsertAsSnippet),e}));return{isIncomplete:r.isIncomplete,suggestions:a}}))}};function cr(t){if(t)return{character:t.column-1,line:t.lineNumber-1}}function ar(t){if(t)return{start:{line:t.startLineNumber-1,character:t.startColumn-1},end:{line:t.endLineNumber-1,character:t.endColumn-1}}}function fr(t){if(t)return new o.Range(t.start.line+1,t.start.character+1,t.end.line+1,t.end.character+1)}function hr(t){const e=o.languages.CompletionItemKind;switch(t){case vt.Text:return e.Text;case vt.Method:return e.Method;case vt.Function:return e.Function;case vt.Constructor:return e.Constructor;case vt.Field:return e.Field;case vt.Variable:return e.Variable;case vt.Class:return e.Class;case vt.Interface:return e.Interface;case vt.Module:return e.Module;case vt.Property:return e.Property;case vt.Unit:return e.Unit;case vt.Value:return e.Value;case vt.Enum:return e.Enum;case vt.Keyword:return e.Keyword;case vt.Snippet:return e.Snippet;case vt.Color:return e.Color;case vt.File:return e.File;case vt.Reference:return e.Reference}return e.Property}function dr(t){if(t)return{range:fr(t.range),text:t.newText}}var vr=class{constructor(t){this._worker=t}provideHover(t,e,r){let n=t.uri;return this._worker(n).then((t=>t.doHover(n.toString(),cr(e)))).then((t=>{if(t)return{range:fr(t.range),contents:gr(t.contents)}}))}};function lr(t){return"string"==typeof t?{value:t}:(e=t)&&"object"==typeof e&&"string"==typeof e.kind?"plaintext"===t.kind?{value:t.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:t.value}:{value:"```"+t.language+"\n"+t.value+"\n```\n"};var e}function gr(t){if(t)return Array.isArray(t)?t.map(lr):[lr(t)]}var mr=class{constructor(t){this._worker=t}provideDocumentHighlights(t,e,r){const n=t.uri;return this._worker(n).then((t=>t.findDocumentHighlights(n.toString(),cr(e)))).then((t=>{if(t)return t.map((t=>({range:fr(t.range),kind:pr(t.kind)})))}))}};function pr(t){switch(t){case Ct.Read:return o.languages.DocumentHighlightKind.Read;case Ct.Write:return o.languages.DocumentHighlightKind.Write;case Ct.Text:return o.languages.DocumentHighlightKind.Text}return o.languages.DocumentHighlightKind.Text}var br=class{constructor(t){this._worker=t}provideDefinition(t,e,r){const n=t.uri;return this._worker(n).then((t=>t.findDefinition(n.toString(),cr(e)))).then((t=>{if(t)return[wr(t)]}))}};function wr(t){return{uri:o.Uri.parse(t.uri),range:fr(t.range)}}var kr=class{constructor(t){this._worker=t}provideReferences(t,e,r,n){const i=t.uri;return this._worker(i).then((t=>t.findReferences(i.toString(),cr(e)))).then((t=>{if(t)return t.map(wr)}))}},jr=class{constructor(t){this._worker=t}provideRenameEdits(t,e,r,n){const i=t.uri;return this._worker(i).then((t=>t.doRename(i.toString(),cr(e),r))).then((t=>function(t){if(!t||!t.changes)return;let e=[];for(let r in t.changes){const n=o.Uri.parse(r);for(let i of t.changes[r])e.push({resource:n,edit:{range:fr(i.range),text:i.newText}})}return{edits:e}}(t)))}},xr=class{constructor(t){this._worker=t}provideDocumentSymbols(t,e){const r=t.uri;return this._worker(r).then((t=>t.findDocumentSymbols(r.toString()))).then((t=>{if(t)return t.map((t=>({name:t.name,detail:"",containerName:t.containerName,kind:Sr(t.kind),range:fr(t.location.range),selectionRange:fr(t.location.range),tags:[]})))}))}};function Sr(t){let e=o.languages.SymbolKind;switch(t){case Rt.File:return e.Array;case Rt.Module:return e.Module;case Rt.Namespace:return e.Namespace;case Rt.Package:return e.Package;case Rt.Class:return e.Class;case Rt.Method:return e.Method;case Rt.Property:return e.Property;case Rt.Field:return e.Field;case Rt.Constructor:return e.Constructor;case Rt.Enum:return e.Enum;case Rt.Interface:return e.Interface;case Rt.Function:return e.Function;case Rt.Variable:return e.Variable;case Rt.Constant:return e.Constant;case Rt.String:return e.String;case Rt.Number:return e.Number;case Rt.Boolean:return e.Boolean;case Rt.Array:return e.Array}return e.Function}var Ir=class{constructor(t){this._worker=t}provideLinks(t,e){const r=t.uri;return this._worker(r).then((t=>t.findDocumentLinks(r.toString()))).then((t=>{if(t)return{links:t.map((t=>({range:fr(t.range),url:t.target})))}}))}},yr=class{constructor(t){this._worker=t}provideDocumentFormattingEdits(t,e,r){const n=t.uri;return this._worker(n).then((t=>t.format(n.toString(),null,Er(e)).then((t=>{if(t&&0!==t.length)return t.map(dr)}))))}},Tr=class{constructor(t){this._worker=t}provideDocumentRangeFormattingEdits(t,e,r,n){const i=t.uri;return this._worker(i).then((t=>t.format(i.toString(),ar(e),Er(r)).then((t=>{if(t&&0!==t.length)return t.map(dr)}))))}};function Er(t){return{tabSize:t.tabSize,insertSpaces:t.insertSpaces}}var Or,Cr=class{constructor(t){this._worker=t}provideDocumentColors(t,e){const r=t.uri;return this._worker(r).then((t=>t.findDocumentColors(r.toString()))).then((t=>{if(t)return t.map((t=>({color:t.color,range:fr(t.range)})))}))}provideColorPresentations(t,e,r){const n=t.uri;return this._worker(n).then((t=>t.getColorPresentations(n.toString(),e.color,ar(e.range)))).then((t=>{if(t)return t.map((t=>{let e={label:t.label};return t.textEdit&&(e.textEdit=dr(t.textEdit)),t.additionalTextEdits&&(e.additionalTextEdits=t.additionalTextEdits.map(dr)),e}))}))}},_r=class{constructor(t){this._worker=t}provideFoldingRanges(t,e,r){const n=t.uri;return this._worker(n).then((t=>t.getFoldingRanges(n.toString(),e))).then((t=>{if(t)return t.map((t=>{const e={start:t.startLine+1,end:t.endLine+1};return void 0!==t.kind&&(e.kind=function(t){switch(t){case I.Comment:return o.languages.FoldingRangeKind.Comment;case I.Imports:return o.languages.FoldingRangeKind.Imports;case I.Region:return o.languages.FoldingRangeKind.Region}}(t.kind)),e}))}))}},Dr=class{constructor(t){this._worker=t}provideSelectionRanges(t,e,r){const n=t.uri;return this._worker(n).then((t=>t.getSelectionRanges(n.toString(),e.map(cr)))).then((t=>{if(t)return t.map((t=>{const e=[];for(;t;)e.push({range:fr(t.range)}),t=t.parent;return e}))}))}};function Rr(t){return 32===t||9===t||11===t||12===t||160===t||5760===t||t>=8192&&t<=8203||8239===t||8287===t||12288===t||65279===t}function Nr(t){return 10===t||13===t||8232===t||8233===t}function Lr(t){return t>=48&&t<=57}function Wr(t){return{getInitialState:()=>new zr(null,null,!1,null),tokenize:(e,r)=>function(t,e,r,n=0){let i=0,o=!1;switch(r.scanError){case 2:e='"'+e,i=1;break;case 1:e="/*"+e,i=2}const a=function(t,e){void 0===e&&(e=!1);var r=t.length,n=0,i="",o=0,a=16,s=0,c=0,u=0,d=0,g=0;function l(e,r){for(var i=0,o=0;i<e||!r;){var a=t.charCodeAt(n);if(a>=48&&a<=57)o=16*o+a-48;else if(a>=65&&a<=70)o=16*o+a-65+10;else{if(!(a>=97&&a<=102))break;o=16*o+a-97+10}n++,i++}return i<e&&(o=-1),o}function h(){if(i="",g=0,o=n,c=s,d=u,n>=r)return o=r,a=17;var e=t.charCodeAt(n);if(Rr(e)){do{n++,i+=String.fromCharCode(e),e=t.charCodeAt(n)}while(Rr(e));return a=15}if(Nr(e))return n++,i+=String.fromCharCode(e),13===e&&10===t.charCodeAt(n)&&(n++,i+="\n"),s++,u=n,a=14;switch(e){case 123:return n++,a=1;case 125:return n++,a=2;case 91:return n++,a=3;case 93:return n++,a=4;case 58:return n++,a=6;case 44:return n++,a=5;case 34:return n++,i=function(){for(var e="",i=n;;){if(n>=r){e+=t.substring(i,n),g=2;break}var o=t.charCodeAt(n);if(34===o){e+=t.substring(i,n),n++;break}if(92!==o){if(o>=0&&o<=31){if(Nr(o)){e+=t.substring(i,n),g=2;break}g=6}n++}else{if(e+=t.substring(i,n),++n>=r){g=2;break}switch(t.charCodeAt(n++)){case 34:e+='"';break;case 92:e+="\\";break;case 47:e+="/";break;case 98:e+="\b";break;case 102:e+="\f";break;case 110:e+="\n";break;case 114:e+="\r";break;case 116:e+="\t";break;case 117:var a=l(4,!0);a>=0?e+=String.fromCharCode(a):g=4;break;default:g=5}i=n}}return e}(),a=10;case 47:var h=n-1;if(47===t.charCodeAt(n+1)){for(n+=2;n<r&&!Nr(t.charCodeAt(n));)n++;return i=t.substring(h,n),a=12}if(42===t.charCodeAt(n+1)){n+=2;for(var p=r-1,m=!1;n<p;){var v=t.charCodeAt(n);if(42===v&&47===t.charCodeAt(n+1)){n+=2,m=!0;break}n++,Nr(v)&&(13===v&&10===t.charCodeAt(n)&&n++,s++,u=n)}return m||(n++,g=1),i=t.substring(h,n),a=13}return i+=String.fromCharCode(e),n++,a=16;case 45:if(i+=String.fromCharCode(e),++n===r||!Lr(t.charCodeAt(n)))return a=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=function(){var e=n;if(48===t.charCodeAt(n))n++;else for(n++;n<t.length&&Lr(t.charCodeAt(n));)n++;if(n<t.length&&46===t.charCodeAt(n)){if(!(++n<t.length&&Lr(t.charCodeAt(n))))return g=3,t.substring(e,n);for(n++;n<t.length&&Lr(t.charCodeAt(n));)n++}var r=n;if(n<t.length&&(69===t.charCodeAt(n)||101===t.charCodeAt(n)))if((++n<t.length&&43===t.charCodeAt(n)||45===t.charCodeAt(n))&&n++,n<t.length&&Lr(t.charCodeAt(n))){for(n++;n<t.length&&Lr(t.charCodeAt(n));)n++;r=n}else g=3;return t.substring(e,r)}(),a=11;default:for(;n<r&&f(e);)n++,e=t.charCodeAt(n);if(o!==n){switch(i=t.substring(o,n)){case"true":return a=8;case"false":return a=9;case"null":return a=7}return a=16}return i+=String.fromCharCode(e),n++,a=16}}function f(t){if(Rr(t)||Nr(t))return!1;switch(t){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}return{setPosition:function(t){n=t,i="",o=0,a=16,g=0},getPosition:function(){return n},scan:e?function(){var t;do{t=h()}while(t>=12&&t<=15);return t}:h,getToken:function(){return a},getTokenValue:function(){return i},getTokenOffset:function(){return o},getTokenLength:function(){return n-o},getTokenStartLine:function(){return c},getTokenStartCharacter:function(){return o-d},getTokenError:function(){return g}}}(e);let s=r.lastWasColon,c=r.parents;const u={tokens:[],endState:r.clone()};for(;;){let d=n+a.getPosition(),g="";const l=a.scan();if(17===l)break;if(d===n+a.getPosition())throw new Error("Scanner did not advance, next 3 characters are: "+e.substr(a.getPosition(),3));switch(o&&(d-=i),o=i>0,l){case 1:c=Ar.push(c,0),g="delimiter.bracket.json",s=!1;break;case 2:c=Ar.pop(c),g="delimiter.bracket.json",s=!1;break;case 3:c=Ar.push(c,1),g="delimiter.array.json",s=!1;break;case 4:c=Ar.pop(c),g="delimiter.array.json",s=!1;break;case 6:g="delimiter.colon.json",s=!0;break;case 5:g="delimiter.comma.json",s=!1;break;case 8:case 9:case 7:g="keyword.json",s=!1;break;case 10:const t=1===(c?c.type:0);g=s||t?"string.value.json":"string.key.json",s=!1;break;case 11:g="number.json",s=!1}if(t)switch(l){case 12:g="comment.line.json";break;case 13:g="comment.block.json"}u.endState=new zr(r.getStateData(),a.getTokenError(),s,c),u.tokens.push({startIndex:d,scopes:g})}return u}(t,e,r)}}(Or||(Or={})).DEFAULT={allowTrailingComma:!1};var Ar=class{constructor(t,e){this.parent=t,this.type=e}static pop(t){return t?t.parent:null}static push(t,e){return new Ar(t,e)}static equals(t,e){if(!t&&!e)return!0;if(!t||!e)return!1;for(;t&&e;){if(t===e)return!0;if(t.type!==e.type)return!1;t=t.parent,e=e.parent}return!0}},zr=class{_state;scanError;lastWasColon;parents;constructor(t,e,r,n){this._state=t,this.scanError=e,this.lastWasColon=r,this.parents=n}clone(){return new zr(this._state,this.scanError,this.lastWasColon,this.parents)}equals(t){return t===this||!!(t&&t instanceof zr)&&this.scanError===t.scanError&&this.lastWasColon===t.lastWasColon&&Ar.equals(this.parents,t.parents)}getStateData(){return this._state}setStateData(t){this._state=t}},Mr=class extends or{constructor(t,e,r){super(t,e,r.onDidChange),this._disposables.push(o.editor.onWillDisposeModel((t=>{this._resetSchema(t.uri)}))),this._disposables.push(o.editor.onDidChangeModelLanguage((t=>{this._resetSchema(t.model.uri)})))}_resetSchema(t){this._worker().then((e=>{e.resetSchema(t.toString())}))}};function Pr(t){const e=[],r=[],n=new rt(t);e.push(n);const i=(...t)=>n.getLanguageServiceWorker(...t);function a(){const{languageId:e,modeConfiguration:n}=t;Fr(r),n.documentFormattingEdits&&r.push(o.languages.registerDocumentFormattingEditProvider(e,new yr(i))),n.documentRangeFormattingEdits&&r.push(o.languages.registerDocumentRangeFormattingEditProvider(e,new Tr(i))),n.completionItems&&r.push(o.languages.registerCompletionItemProvider(e,new ur(i,[" ",":",'"']))),n.hovers&&r.push(o.languages.registerHoverProvider(e,new vr(i))),n.documentSymbols&&r.push(o.languages.registerDocumentSymbolProvider(e,new xr(i))),n.tokens&&r.push(o.languages.setTokensProvider(e,Wr(!0))),n.colors&&r.push(o.languages.registerColorProvider(e,new Cr(i))),n.foldingRanges&&r.push(o.languages.registerFoldingRangeProvider(e,new _r(i))),n.diagnostics&&r.push(new Mr(e,i,t)),n.selectionRanges&&r.push(o.languages.registerSelectionRangeProvider(e,new Dr(i)))}a(),e.push(o.languages.setLanguageConfiguration(t.languageId,Ur));let s=t.modeConfiguration;return t.onDidChange((t=>{t.modeConfiguration!==s&&(s=t.modeConfiguration,a())})),e.push(qr(r)),qr(e)}function qr(t){return{dispose:()=>Fr(t)}}function Fr(t){for(;t.length;)t.pop().dispose()}var Ur={wordPattern:/(-?\d*\.\d\w*)|([^\[\{\]\}\:\"\,\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"]],autoClosingPairs:[{open:"{",close:"}",notIn:["string"]},{open:"[",close:"]",notIn:["string"]},{open:'"',close:'"',notIn:["string"]}]};export{ur as CompletionAdapter,br as DefinitionAdapter,or as DiagnosticsAdapter,Cr as DocumentColorAdapter,yr as DocumentFormattingEditProvider,mr as DocumentHighlightAdapter,Ir as DocumentLinkAdapter,Tr as DocumentRangeFormattingEditProvider,xr as DocumentSymbolAdapter,_r as FoldingRangeAdapter,vr as HoverAdapter,kr as ReferenceAdapter,jr as RenameAdapter,Dr as SelectionRangeAdapter,rt as WorkerManager,cr as fromPosition,ar as fromRange,Pr as setupMode,fr as toRange,dr as toTextEdit};