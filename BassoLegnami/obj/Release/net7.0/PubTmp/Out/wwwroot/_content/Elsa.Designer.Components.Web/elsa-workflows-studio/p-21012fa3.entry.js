import{r as t,c as e,h as s}from"./p-ee0b9025.js";import{S as i}from"./p-c74b54ba.js";import{p as o}from"./p-971980b1.js";import{T as p}from"./p-37df3757.js";import{g as a}from"./p-8f8bc806.js";import"./p-a3b5bd35.js";import"./p-80de33dc.js";import"./p-83f217d4.js";import"./p-ccd51ea4.js";import"./p-e0c1fede.js";import"./p-f1ec68ec.js";import"./p-93cac3a6.js";import"./p-d88cb309.js";import"./p-82db2ff5.js";import"./p-949334ec.js";let r=class{constructor(s){t(this,s),this.valueChange=e(this,"valueChange",7),this.selectList={items:[],isFlagsEnum:!1}}async componentWillLoad(){this.currentValue=this.propertyModel.expressions[i.Json]||"[]"}onValueChanged(e){const t=e.map((e=>"string"==typeof e?e:"number"==typeof e||"boolean"==typeof e?e.toString():e.value));this.valueChange.emit(e),this.currentValue=JSON.stringify(t),this.propertyModel.expressions[i.Json]=this.currentValue}onDefaultSyntaxValueChanged(e){this.currentValue=e.detail}createKeyValueOptions(e){return null===e?e:e.map((e=>"string"==typeof e?{text:e,value:e}:e))}async componentWillRender(){this.selectList=await a(this.serverUrl,this.propertyDescriptor)}render(){const e=this.propertyDescriptor,t=this.propertyModel,r=e.name,i=r,a=r,p=o(this.currentValue),n=!!e.options&&e.options.length>0,l=this.createKeyValueOptions(this.selectList.items),d=n?s("elsa-input-tags-dropdown",{dropdownValues:l,values:p,fieldId:i,fieldName:a,onValueChanged:e=>this.onValueChanged(e.detail)}):s("elsa-input-tags",{values:p,fieldId:i,fieldName:a,onValueChanged:e=>this.onValueChanged(e.detail)});return s("elsa-property-editor",{activityModel:this.activityModel,propertyDescriptor:e,propertyModel:t,onDefaultSyntaxValueChanged:e=>this.onDefaultSyntaxValueChanged(e),"single-line":!0},d)}};p.injectProps(r,["serverUrl"]);export{r as elsa_multi_text_property};